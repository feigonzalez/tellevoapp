"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2337],{2337:(W,v,d)=>{d.r(v),d.d(v,{RegistrocPageModule:()=>V});var Z=d(6814),a=d(95),s=d(3614),m=d(9351),P=d(5861),e=d(9468),T=d(8277),C=d(6883),E=d(118),_=d(324);function M(t,n){if(1&t&&(e.TgZ(0,"ion-col",38),e._UZ(1,"ion-img",39),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.Q6J("src",l.lastPicture)}}function b(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Seleccione una imagen"),e.qZA())}function R(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Este campo es obligatorio"),e.qZA())}function y(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"El campo tiene que tener un largo mayor a 3 caracteres"),e.qZA())}function A(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Este campo es obligatorio"),e.qZA())}function U(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"La contrase\xf1a tiene que ser mayor a 6 caracteres "),e.qZA())}function N(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Debe contener al menos una may\xfascula "),e.qZA())}function J(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Debe contener al menos una min\xfascula "),e.qZA())}function x(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Debe contener al menos un n\xfamero"),e.qZA())}function I(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Debe contener al menos un car\xe1cter especial"),e.qZA())}function q(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Este campo es obligatorio"),e.qZA())}function w(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Las contrase\xf1as no coinciden"),e.qZA())}function Q(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Este campo es obligatorio"),e.qZA())}function Y(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Ingrese un n\xfamero de tel\xe9fono v\xe1lido"),e.qZA())}function S(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Este campo es obligatorio"),e.qZA())}function F(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Ingrese un correo v\xe1lido"),e.qZA())}function k(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Seleccione un tipo de usuario"),e.qZA())}function O(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Este campo es obligatorio"),e.qZA())}function D(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Patente inv\xe1lida"),e.qZA())}function G(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Este campo es obligatorio"),e.qZA())}function z(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Este campo es obligatorio"),e.qZA())}function B(t,n){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Debe ser mayor a 0"),e.qZA())}function L(t,n){if(1&t){const l=e.EpF();e.TgZ(0,"div")(1,"ion-item"),e._UZ(2,"ion-icon",41),e.TgZ(3,"ion-input",42),e.NdJ("ngModelChange",function(o){e.CHM(l);const i=e.oxw();return e.KtG(i.patente=o)})("input",function(){e.CHM(l);const o=e.oxw();return e.KtG(o.validarPatente())}),e.qZA()(),e.YNc(4,O,2,0,"div",17),e.YNc(5,D,2,0,"div",17),e.TgZ(6,"ion-item"),e._UZ(7,"ion-icon",41),e.TgZ(8,"ion-input",43),e.NdJ("ngModelChange",function(o){e.CHM(l);const i=e.oxw();return e.KtG(i.color=o)})("input",function(){e.CHM(l);const o=e.oxw();return e.KtG(o.validarColor())}),e.qZA()(),e.YNc(9,G,2,0,"div",17),e.TgZ(10,"ion-item"),e._UZ(11,"ion-icon",41),e.TgZ(12,"ion-input",44),e.NdJ("ngModelChange",function(o){e.CHM(l);const i=e.oxw();return e.KtG(i.asientos=o)})("input",function(){e.CHM(l);const o=e.oxw();return e.KtG(o.validarAsientos())}),e.qZA()(),e.YNc(13,z,2,0,"div",17),e.YNc(14,B,2,0,"div",17),e.qZA()}if(2&t){const l=e.oxw();e.xp6(3),e.Q6J("ngModel",l.patente),e.xp6(1),e.Q6J("ngIf",l.formErrors.patente_empty),e.xp6(1),e.Q6J("ngIf",l.formErrors.patente_invalid),e.xp6(3),e.Q6J("ngModel",l.color),e.xp6(1),e.Q6J("ngIf",l.formErrors.color_empty),e.xp6(3),e.Q6J("ngModel",l.asientos),e.xp6(1),e.Q6J("ngIf",l.formErrors.asientos_empty),e.xp6(1),e.Q6J("ngIf",l.formErrors.asientos_low)}}const H=[{path:"",component:(()=>{var t;class n{constructor(r,o,i,u,f,h,c,g,p){this.menuCtrl=r,this.navCtrl=o,this.toastController=i,this.alertController=u,this.fb=f,this._snackBar=h,this.photoService=c,this.BdserviceService=g,this.router=p,this.nombre="",this.pass="",this.pass2="",this.telefono="",this.correo="",this.formErrors={},this.registering=!1,this.imagen="",this.lastPicture="",this.patente="",this.color="",this.id_rol=0,this.form=new a.cw({})}ngOnInit(){this.contactForm=this.initForm()}crearUsuario(r,o,i,u,f,h){var c=this;return(0,P.Z)(function*(){c.registering=!0,c.formErrors={};let g=!0;if(g=c.validarImagen()&&g,g=c.validarNombre()&&g,g=c.validarPass1()&&g,g=c.validarPass2()&&g,g=c.validarTelefono()&&g,g=c.validarCorreo()&&g,g=c.validarRol(!1)&&g,1==c.id_rol&&(g=c.validarPatente()&&g,g=c.validarColor()&&g,g=c.validarAsientos()&&g),g){let p=yield c.BdserviceService.crearUsuario(r,o,i,u,f,h);-1!=p?-1!=(yield c.BdserviceService.crearVehiculo(c.patente,c.color,c.asientos,p))&&(localStorage.setItem("loggedIn","true"),localStorage.setItem("uID",p.toString()),c.router.navigate(["/inicio-conductor"])):c.registering=!1}else c.registering=!1})()}ionViewWillEnter(){this.menuCtrl.enable(!1,"first")}onSubmit(){console.log("Form ->")}openSnackBar(r,o){this._snackBar.open(r,o,{duration:3e3})}addPhotoToGallery(){this.photoService.addNewToGallery(),this.lastPicture=this.photoService.photos[this.photoService.photos.length-1].webviewPath}onFileSelected(r){const o=r.target.files[0];if(o)if(o.type.startsWith("image/")){const i=new FileReader;i.readAsDataURL(o),i.onload=()=>{this.imagen=i.result}}else this.imagen=""}initForm(){return this.fb.group({nombre:["",[a.kI.required,a.kI.minLength(3)]],pass:["",[a.kI.required,a.kI.minLength(6),a.kI.pattern(/(?=.*[A-Z])/),a.kI.pattern(/(?=.*[a-z])/),a.kI.pattern(/(?=.*\d)/),a.kI.pattern(/(?=.*[@$!%*?&])/)]],pass2:["",[a.kI.required,a.kI.minLength(6)]],telefono:["",[a.kI.required,a.kI.minLength(8)]],email:["",[a.kI.required,a.kI.email]],id_rol:["",[]],patente:["",[]],color:["",[]],asientos:["",[]]})}validarImagen(){let r=!0;return this.formErrors.imagen_empty=!1,(null===this.imagen||""==this.imagen.trim())&&(1!=this.photoService.photos.length&&(this.formErrors.imagen_empty=!0),r=!1),r}validarNombre(){let r=!0;return this.formErrors.nombre_empty=!1,this.formErrors.nombre_short=!1,null===this.nombre||""==this.nombre.trim()?(this.formErrors.nombre_empty=!0,r=!1):this.nombre.length<3&&(this.formErrors.nombre_short=!0,r=!1),r}validarPass1(){let r=!0;return this.formErrors.password_empty=!1,this.formErrors.password_short=!1,this.formErrors.password_needUppercase=!1,this.formErrors.password_needLowercase=!1,this.formErrors.password_needNumber=!1,this.formErrors.password_needSpecial=!1,null===this.pass||""==this.pass.trim()?(this.formErrors.password_empty=!0,r=!1):(this.pass.length<6&&(this.formErrors.password_short=!0,r=!1),this.pass.match(/.*[A-Z].*/)||(this.formErrors.password_needUppercase=!0,r=!1),this.pass.match(/.*[a-z].*/)||(this.formErrors.password_needLowercase=!0,r=!1),this.pass.match(/.*\d.*/)||(this.formErrors.password_needNumber=!0,r=!1),this.pass.match(/.*[!$%&?@*].*/)||(this.formErrors.password_needSpecial=!0,r=!1)),r}validarPass2(){let r=!0;return this.formErrors.pass2_empty=!1,this.formErrors.pass2_noMatch=!1,null===this.pass2||""==this.pass2.trim()?(this.formErrors.pass2_empty=!0,r=!1):this.pass2!=this.pass&&(this.formErrors.pass2_noMatch=!0,r=!1),r}validarTelefono(){let r=!0;return this.formErrors.telefono_empty=!1,this.formErrors.telefono_short=!1,null===this.telefono||""==this.telefono.trim()?(this.formErrors.telefono_empty=!0,r=!1):this.telefono.toString().length<8&&(this.formErrors.telefono_short=!0,r=!1),r}validarCorreo(){let r=!0;return this.formErrors.correo_empty=!1,this.formErrors.correo_invalid=!1,null===this.correo||""==this.correo.trim()?(this.formErrors.correo_empty=!0,r=!1):this.correo.match(/[^@]+@[^@]+/)||(this.formErrors.correo_invalid=!0,r=!1),r}validarRol(r){let o=!0;return this.formErrors.rol_empty=!1,!!r||(0==this.id_rol&&(this.formErrors.rol_empty=!0,o=!1),o)}validarPatente(){let r=!0;return this.formErrors.patente_empty=!1,this.formErrors.patente_invalid=!1,null===this.patente||""==this.patente.trim()?(this.formErrors.patente_empty=!0,r=!1):(!this.patente.toUpperCase().match(/[A-Z]{2}[0-9]{4}|[BCDFGHJKLMNPRSTWXYZ]{4}[0-9]{2}/)||6!=this.patente.length)&&(this.formErrors.patente_invalid=!0,r=!1),r}validarColor(){let r=!0;return this.formErrors.color_empty=!1,(null===this.color||""==this.color.trim())&&(this.formErrors.color_empty=!0,r=!1),r}validarAsientos(){let r=!0;return this.formErrors.asientos_empty=!1,this.formErrors.asientos_low=!1,null==this.asientos?(this.formErrors.asientos_empty=!0,r=!1):this.asientos<1&&(this.formErrors.asientos_low=!0,r=!1),r}}return(t=n).\u0275fac=function(r){return new(r||t)(e.Y36(s._q),e.Y36(s.SH),e.Y36(s.yF),e.Y36(s.Br),e.Y36(a.qu),e.Y36(T.ux),e.Y36(C.T),e.Y36(E.J),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registroc"]],decls:90,vars:27,consts:[["color","#1e1e1e"],["slot","start"],["defaultHref","/home","text","Volver",2,"color","white"],[2,"color","white"],["padding","",1,"background"],[2,"margin-top","2rem","text-align","center"],[2,"margin-top","1rem","background-color","white"],[2,"font-size","20px","font-weight","bold","color","#1e1e1e"],[2,"margin-top","1rem"],[2,"margin-top","-2rem","background-color","white"],["vertical","bottom","horizontal","center","slot","fixed"],[3,"click"],["name","camera"],["size","6",4,"ngIf"],[1,"ion-text-center"],[3,"formGroup","ngSubmit"],["type","file","accept","image/*","id","imagen",3,"change"],["class","input-error",4,"ngIf"],["name","person-outline",1,"input-icon"],["name","nombre","type","text","placeholder","Nombre Completo","id","nombre","formControlName","nombre","required","",3,"ngModel","ngModelChange","input"],["name","key-outline",1,"input-icon"],["name","pass","type","password","placeholder","Contrase\xf1a","id","pass","formControlName","pass","required","",3,"ngModel","ngModelChange","input"],["name","pass2","type","password","placeholder","Repita la contrase\xf1a","id","pass2","required","","formControlName","pass2",3,"ngModel","pattern","input","ngModelChange"],["name","call-outline",1,"input-icon"],["name","telefono","type","text","placeholder","Numero de telefono","id","telefono","required","","formControlName","telefono",3,"ngModel","ngModelChange","input"],["name","mail-outline",1,"input-icon"],["name","email","type","text","placeholder","Correo","id","email","required","","formControlName","email",3,"ngModel","input","ngModelChange"],[1,"center-div"],["aria-label","Select an option","formControlName","id_rol",3,"ngModel","ngModelChange","input"],["value","1"],["value","2"],[4,"ngIf"],[2,"text-align","center"],[2,"margin-top","20px","background-color","white"],[2,"text-align","center","font-size","12px","color","var(--ion-color-medium)"],["href","#"],[1,"sign-btn-wrap"],["fill","solid","shape","round",1,"recuperar",3,"disabled","click"],["size","6"],[3,"src"],[1,"input-error"],["name","car-outline",1,"input-icon"],["name","patente","type","text","placeholder","Patente del Veh\xedculo","formControlName","patente",3,"ngModel","ngModelChange","input"],["name","color","type","text","placeholder","Color","formControlName","color",3,"ngModel","ngModelChange","input"],["name","asientos","type","number","placeholder","N\xb0 de Asientos","formControlName","asientos",3,"ngModel","ngModelChange","input"]],template:function(r,o){1&r&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5,"Registro de Conductor"),e.qZA()()(),e.TgZ(6,"ion-content",4)(7,"ion-card-content",5)(8,"ion-card-content",6)(9,"ion-text",7),e._uU(10,"Crea tu cuenta como Conductor"),e.qZA()()(),e.TgZ(11,"ion-card-content",8)(12,"ion-card-content",9)(13,"ion-card-content"),e._UZ(14,"br")(15,"br"),e.TgZ(16,"ion-card-content")(17,"ion-fab",10)(18,"ion-fab-button",11),e.NdJ("click",function(){return o.addPhotoToGallery()}),e._UZ(19,"ion-icon",12),e.qZA()(),e.YNc(20,M,2,1,"ion-col",13),e.qZA(),e.TgZ(21,"ion-card-content")(22,"ion-card-title",14),e._uU(23,"Foto de perfil"),e.qZA()(),e.TgZ(24,"form",15),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(25,"input",16),e.NdJ("change",function(u){return o.onFileSelected(u)}),e.qZA(),e.YNc(26,b,2,0,"div",17),e.TgZ(27,"ion-item"),e._UZ(28,"ion-icon",18),e.TgZ(29,"ion-input",19),e.NdJ("ngModelChange",function(u){return o.nombre=u})("input",function(){return o.validarNombre()}),e.qZA()(),e.YNc(30,R,2,0,"div",17),e.YNc(31,y,2,0,"div",17),e.TgZ(32,"ion-item"),e._UZ(33,"ion-icon",20),e.TgZ(34,"ion-input",21),e.NdJ("ngModelChange",function(u){return o.pass=u})("input",function(){return o.validarPass1()}),e.qZA()(),e.YNc(35,A,2,0,"div",17),e.YNc(36,U,2,0,"div",17),e.YNc(37,N,2,0,"div",17),e.YNc(38,J,2,0,"div",17),e.YNc(39,x,2,0,"div",17),e.YNc(40,I,2,0,"div",17),e.TgZ(41,"ion-item")(42,"small"),e._uU(43," La contrase\xf1a debe cumplir con los siguientes requisitos de seguridad: "),e.TgZ(44,"ul")(45,"li"),e._uU(46,"Debe tener una longitud mayor a 6"),e.qZA(),e.TgZ(47,"li"),e._uU(48,"Debe contener al menos una letra may\xfascula"),e.qZA(),e.TgZ(49,"li"),e._uU(50,"Debe contener al menos una letra min\xfascula"),e.qZA(),e.TgZ(51,"li"),e._uU(52,'Debe contener al menos un caracter especial ("!", "$", "%", "&", "?", "@", o "*")'),e.qZA()()()(),e.TgZ(53,"ion-item"),e._UZ(54,"ion-icon",20),e.TgZ(55,"ion-input",22),e.NdJ("input",function(){return o.validarPass2()})("ngModelChange",function(u){return o.pass2=u}),e.qZA()(),e.YNc(56,q,2,0,"div",17),e.YNc(57,w,2,0,"div",17),e.TgZ(58,"ion-item"),e._UZ(59,"ion-icon",23),e.TgZ(60,"ion-input",24),e.NdJ("ngModelChange",function(u){return o.telefono=u})("input",function(){return o.validarTelefono()}),e.qZA()(),e.YNc(61,Q,2,0,"div",17),e.YNc(62,Y,2,0,"div",17),e.TgZ(63,"ion-item"),e._UZ(64,"ion-icon",25),e.TgZ(65,"ion-input",26),e.NdJ("input",function(){return o.validarCorreo()})("ngModelChange",function(u){return o.correo=u}),e.qZA()(),e.YNc(66,S,2,0,"div",17),e.YNc(67,F,2,0,"div",17),e._UZ(68,"br"),e.TgZ(69,"div",27)(70,"mat-radio-group",28),e.NdJ("ngModelChange",function(u){return o.id_rol=u})("input",function(){return o.validarRol(!0)}),e.TgZ(71,"mat-radio-button",29),e._uU(72,"Conductor"),e.qZA(),e.TgZ(73,"mat-radio-button",30),e._uU(74,"Pasajero"),e.qZA()()(),e.YNc(75,k,2,0,"div",17),e.YNc(76,L,15,8,"div",31),e.TgZ(77,"div",32)(78,"ion-card-content",33)(79,"ion-text",34),e._uU(80,'Al hacer clic en "Registrarse", aceptas nuestra '),e.TgZ(81,"a",35),e._uU(82,"Pol\xedtica de Privacidad"),e.qZA(),e._uU(83," y nuestros "),e.TgZ(84,"a",35),e._uU(85,"T\xe9rminos y Condiciones"),e.qZA(),e._uU(86,"."),e.qZA()()(),e.TgZ(87,"div",36)(88,"ion-button",37),e.NdJ("click",function(){return o.crearUsuario(o.nombre,o.correo,o.pass,o.telefono,o.id_rol,o.imagen)}),e._uU(89,"Registrarse"),e.qZA()()()()()()()),2&r&&(e.xp6(20),e.Q6J("ngIf",o.photoService.photos.length>0),e.xp6(4),e.Q6J("formGroup",o.contactForm),e.xp6(2),e.Q6J("ngIf",o.formErrors.imagen_empty),e.xp6(3),e.Q6J("ngModel",o.nombre),e.xp6(1),e.Q6J("ngIf",o.formErrors.nombre_empty),e.xp6(1),e.Q6J("ngIf",o.formErrors.nombre_short),e.xp6(3),e.Q6J("ngModel",o.pass),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_empty),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_short),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_needUppercase),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_needLowercase),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_needNumber),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_needSpecial),e.xp6(15),e.Q6J("ngModel",o.pass2)("pattern",o.pass),e.xp6(1),e.Q6J("ngIf",o.formErrors.pass2_empty),e.xp6(1),e.Q6J("ngIf",o.formErrors.pass2_noMatch),e.xp6(3),e.Q6J("ngModel",o.telefono),e.xp6(1),e.Q6J("ngIf",o.formErrors.telefono_empty),e.xp6(1),e.Q6J("ngIf",o.formErrors.telefono_short),e.xp6(3),e.Q6J("ngModel",o.correo),e.xp6(1),e.Q6J("ngIf",o.formErrors.correo_empty),e.xp6(1),e.Q6J("ngIf",o.formErrors.correo_invalid),e.xp6(3),e.Q6J("ngModel",o.id_rol),e.xp6(5),e.Q6J("ngIf",o.formErrors.rol_empty),e.xp6(1),e.Q6J("ngIf",1==o.id_rol),e.xp6(12),e.Q6J("disabled",o.registering))},dependencies:[Z.O5,a._Y,a.JJ,a.JL,a.Q7,a.c5,a.sg,a.u,s.oU,s.YG,s.Sm,s.FN,s.Dq,s.wI,s.W2,s.IJ,s.W4,s.Gu,s.gu,s.Xz,s.pK,s.Ie,s.yW,s.wd,s.sr,s.as,s.j9,s.cs,_.VQ,_.U0],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#1e1e1e;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}div[_ngcontent-%COMP%]{text-align:center}ion-button[_ngcontent-%COMP%]{border-radius:10px;background-color:#1e1e1e;color:#fff;width:80%;height:50px;align-items:center;justify-content:center}ion-card-content[_ngcontent-%COMP%]{border-radius:4px}ion-header[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#1e1e1e}ion-toolbar[_ngcontent-%COMP%]{color:#1e1e1e;background-color:#1e1e1e}.center-div[_ngcontent-%COMP%]{text-align:center}ion-item[_ngcontent-%COMP%]{border-radius:4px}ion-content.background[_ngcontent-%COMP%]{--background: url(/assets/fondo.jpg) 0 0/100% 100% no-repeat}ion-card-content[_ngcontent-%COMP%]{align-items:center;justify-content:center;margin:20;padding:20}ion-input[_ngcontent-%COMP%]{color:#000}ion-label[_ngcontent-%COMP%]{color:#000}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.input-icon[_ngcontent-%COMP%]{margin-right:.5rem}.input-error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),n})()}];let j=(()=>{var t;class n{}return(t=n).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(H),m.Bz]}),n})();var K=d(3680);let V=(()=>{var t;class n{}return(t=n).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Z.ez,a.u5,a.UX,s.Pc,j,_.Fk,T.ZX,K.si]}),n})()}}]);