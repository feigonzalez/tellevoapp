"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2337],{2337:(L,Z,u)=>{u.r(Z),u.d(Z,{RegistrocPageModule:()=>D});var p=u(6814),t=u(95),i=u(3614),f=u(9351),b=u(5861),e=u(9468),T=u(8277),P=u(6883),C=u(118),_=u(324);function M(r,a){if(1&r&&(e.TgZ(0,"ion-col",36),e._UZ(1,"ion-img",37),e.qZA()),2&r){const d=a.$implicit;e.xp6(1),e.Q6J("src",d.webviewPath)}}function E(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Seleccione una imagen"),e.qZA())}function R(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Este campo es obligatorio"),e.qZA())}function U(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"El campo tiene que tener un largo mayor a 3 caracteres"),e.qZA())}function y(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Este campo es obligatorio"),e.qZA())}function A(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"La contrase\xf1a tiene que ser mayor a 6 caracteres "),e.qZA())}function J(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Debe contener al menos una may\xfascula "),e.qZA())}function I(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Debe contener al menos una min\xfascula "),e.qZA())}function q(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Debe contener al menos un n\xfamero"),e.qZA())}function N(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Debe contener al menos un car\xe1cter especial"),e.qZA())}function w(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Este campo es obligatorio"),e.qZA())}function F(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Las contrase\xf1as no coinciden"),e.qZA())}function Q(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Este campo es obligatorio"),e.qZA())}function k(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Ingrese un n\xfamero de tel\xe9fono v\xe1lido"),e.qZA())}function Y(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Este campo es obligatorio"),e.qZA())}function O(r,a){1&r&&(e.TgZ(0,"div",38),e._uU(1,"Ingrese un correo v\xe1lido"),e.qZA())}const S=[{path:"",component:(()=>{var r;class a{constructor(n,o,s,l,h,v,g,c,m){this.menuCtrl=n,this.navCtrl=o,this.toastController=s,this.alertController=l,this.fb=h,this._snackBar=v,this.photoService=g,this.BdserviceService=c,this.router=m,this.nombre="",this.pass="",this.pass2="",this.telefono="",this.correo="",this.formErrors={},this.registering=!1,this.imagen="",this.patente="",this.color="",this.asientos=0,this.id_rol=1,this.form=new t.cw({})}ngOnInit(){this.contactForm=this.initForm()}crearUsuario(n,o,s,l,h,v){var g=this;return(0,b.Z)(function*(){g.registering=!0,g.formErrors={};let c=!0;if(c=g.validarImagen()&&c,c=g.validarNombre()&&c,c=g.validarPass1()&&c,c=g.validarPass2()&&c,c=g.validarTelefono()&&c,c=g.validarCorreo()&&c,c){let m=yield g.BdserviceService.crearUsuario(n,o,s,l,h,v);-1!=m?(localStorage.setItem("loggedIn","true"),localStorage.setItem("uID",m.toString()),g.router.navigate(["/inicio-conductor"])):g.registering=!1}else g.registering=!1})()}ionViewWillEnter(){this.menuCtrl.enable(!1,"first")}onSubmit(){console.log("Form ->")}openSnackBar(n,o){this._snackBar.open(n,o,{duration:3e3})}addPhotoToGallery(){this.photoService.addNewToGallery()}onFileSelected(n){const o=n.target.files[0];if(o)if(o.type.startsWith("image/")){const s=new FileReader;s.readAsDataURL(o),s.onload=()=>{this.imagen=s.result}}else this.imagen=""}initForm(){return this.fb.group({nombre:["",[t.kI.required,t.kI.minLength(3)]],pass:["",[t.kI.required,t.kI.minLength(6),t.kI.pattern(/(?=.*[A-Z])/),t.kI.pattern(/(?=.*[a-z])/),t.kI.pattern(/(?=.*\d)/),t.kI.pattern(/(?=.*[@$!%*?&])/)]],pass2:["",[t.kI.required,t.kI.minLength(6)]],telefono:["",[t.kI.required,t.kI.minLength(8)]],email:["",[t.kI.required,t.kI.email]]})}validarImagen(){let n=!0;return this.formErrors.imagen_empty=!1,null===this.imagen&&(this.formErrors.imagen_empty=!0,n=!1),n}validarNombre(){let n=!0;return this.formErrors.nombre_empty=!1,this.formErrors.nombre_short=!1,(null===this.nombre||""==this.nombre.trim())&&(this.formErrors.nombre_empty=!0,n=!1),this.nombre.length<3&&(this.formErrors.nombre_short=!0,n=!1),n}validarPass1(){let n=!0;return this.formErrors.password_empty=!1,this.formErrors.password_short=!1,this.formErrors.password_needUppercase=!1,this.formErrors.password_needLowercase=!1,this.formErrors.password_needNumber=!1,this.formErrors.password_needSpecial=!1,(null===this.pass||""==this.pass.trim())&&(this.formErrors.password_empty=!0,n=!1),this.pass.length<6&&(this.formErrors.password_short=!0,n=!1),this.pass.match(/.*[A-Z].*/)||(this.formErrors.password_needUppercase=!0,n=!1),this.pass.match(/.*[a-z].*/)||(this.formErrors.password_needLowercase=!0,n=!1),this.pass.match(/.*\d.*/)||(this.formErrors.password_needNumber=!0,n=!1),this.pass.match(/.*[!$%&?@*].*/)||(this.formErrors.password_needSpecial=!0,n=!1),n}validarPass2(){let n=!0;return this.formErrors.pass2_empty=!1,this.formErrors.pass2_noMatch=!1,(null===this.pass2||""==this.pass2.trim())&&(this.formErrors.pass2_empty=!0,n=!1),this.pass2!=this.pass&&(this.formErrors.pass2_noMatch=!0,n=!1),n}validarTelefono(){let n=!0;return this.formErrors.telefono_empty=!1,this.formErrors.telefono_short=!1,(null===this.telefono||""==this.telefono.trim())&&(this.formErrors.telefono_empty=!0,n=!1),this.telefono.toString().length<8&&(this.formErrors.telefono_short=!0,n=!1),n}validarCorreo(){let n=!0;return this.formErrors.correo_empty=!1,this.formErrors.correo_invalid=!1,(null===this.correo||""==this.correo.trim())&&(this.formErrors.correo_empty=!0,n=!1),this.correo.match(/[^@]+@[^@]+/)||(this.formErrors.correo_invalid=!0,n=!1),n}validarPatente(){}validarColor(){}validarAsientos(){}}return(r=a).\u0275fac=function(n){return new(n||r)(e.Y36(i._q),e.Y36(i.SH),e.Y36(i.yF),e.Y36(i.Br),e.Y36(t.qu),e.Y36(T.ux),e.Y36(P.T),e.Y36(C.J),e.Y36(f.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-registroc"]],decls:88,vars:27,consts:[["color","#1e1e1e"],["slot","start"],["defaultHref","/home","text","Volver",2,"color","white"],[2,"color","white"],["padding","",1,"background"],[2,"margin-top","2rem","text-align","center"],[2,"margin-top","1rem","background-color","white"],[2,"font-size","20px","font-weight","bold","color","#1e1e1e"],[2,"margin-top","1rem"],[2,"margin-top","-2rem","background-color","white"],["vertical","bottom","horizontal","center","slot","fixed"],[3,"click"],["name","camera"],["size","6",4,"ngFor","ngForOf"],[1,"ion-text-center"],[3,"formGroup","ngSubmit"],["type","file","accept","image/*","id","imagen",3,"change"],["class","input-error",4,"ngIf"],["name","person-outline",1,"input-icon"],["name","nombre","type","text","placeholder","Nombre Completo","id","nombre","formControlName","nombre","required","",3,"ngModel","ngModelChange","input"],["name","key-outline",1,"input-icon"],["name","pass","type","password","placeholder","Contrase\xf1a","id","pass","formControlName","pass","required","",3,"ngModel","ngModelChange","input"],["name","pass2","type","password","placeholder","Repita la contrase\xf1a","id","pass2","required","","formControlName","pass2",3,"ngModel","pattern","input","ngModelChange"],["name","call-outline",1,"input-icon"],["name","telefono","type","number","placeholder","Numero de telefono","id","telefono","required","","formControlName","telefono",3,"ngModel","ngModelChange","input"],["name","mail-outline",1,"input-icon"],["name","email","type","text","placeholder","nombre@belleduca.cl","id","email","required","","formControlName","email",3,"ngModel","input","ngModelChange"],[1,"center-div"],["aria-label","Select an option",3,"ngModel","ngModelChange"],[3,"value"],[2,"text-align","center"],[2,"margin-top","20px","background-color","white"],[2,"text-align","center","font-size","12px","color","var(--ion-color-medium)"],["href","#"],[1,"sign-btn-wrap"],["fill","solid","shape","round",1,"recuperar",3,"disabled","click"],["size","6"],[3,"src"],[1,"input-error"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5,"Registro de Conductor"),e.qZA()()(),e.TgZ(6,"ion-content",4)(7,"ion-card-content",5)(8,"ion-card-content",6)(9,"ion-text",7),e._uU(10,"Crea tu cuenta como Conductor"),e.qZA()()(),e.TgZ(11,"ion-card-content",8)(12,"ion-card-content",9)(13,"ion-card-content"),e._UZ(14,"br")(15,"br"),e.TgZ(16,"ion-card-content")(17,"ion-fab",10)(18,"ion-fab-button",11),e.NdJ("click",function(){return o.addPhotoToGallery()}),e._UZ(19,"ion-icon",12),e.qZA()(),e.YNc(20,M,2,1,"ion-col",13),e.qZA(),e.TgZ(21,"ion-card-content")(22,"ion-card-title",14),e._uU(23,"Foto de perfil"),e.qZA()(),e.TgZ(24,"form",15),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(25,"input",16),e.NdJ("change",function(l){return o.onFileSelected(l)}),e.qZA(),e.YNc(26,E,2,0,"div",17),e.TgZ(27,"ion-item"),e._UZ(28,"ion-icon",18),e.TgZ(29,"ion-input",19),e.NdJ("ngModelChange",function(l){return o.nombre=l})("input",function(){return o.validarNombre()}),e.qZA()(),e.YNc(30,R,2,0,"div",17),e.YNc(31,U,2,0,"div",17),e.TgZ(32,"ion-item"),e._UZ(33,"ion-icon",20),e.TgZ(34,"ion-input",21),e.NdJ("ngModelChange",function(l){return o.pass=l})("input",function(){return o.validarPass1()}),e.qZA()(),e.YNc(35,y,2,0,"div",17),e.YNc(36,A,2,0,"div",17),e.YNc(37,J,2,0,"div",17),e.YNc(38,I,2,0,"div",17),e.YNc(39,q,2,0,"div",17),e.YNc(40,N,2,0,"div",17),e.TgZ(41,"ion-item")(42,"small"),e._uU(43," La contrase\xf1a debe cumplir con los siguientes requisitos de seguridad: "),e.TgZ(44,"ul")(45,"li"),e._uU(46,"Debe tener una longitud mayor a 6"),e.qZA(),e.TgZ(47,"li"),e._uU(48,"Debe contener al menos una letra may\xfascula"),e.qZA(),e.TgZ(49,"li"),e._uU(50,"Debe contener al menos una letra min\xfascula"),e.qZA(),e.TgZ(51,"li"),e._uU(52,'Debe contener al menos un caracter especial ("!", "$", "%", "&", "?", "@", o "*")'),e.qZA()()()(),e.TgZ(53,"ion-item"),e._UZ(54,"ion-icon",20),e.TgZ(55,"ion-input",22),e.NdJ("input",function(){return o.validarPass2()})("ngModelChange",function(l){return o.pass2=l}),e.qZA()(),e.YNc(56,w,2,0,"div",17),e.YNc(57,F,2,0,"div",17),e.TgZ(58,"ion-item"),e._UZ(59,"ion-icon",23),e.TgZ(60,"ion-input",24),e.NdJ("ngModelChange",function(l){return o.telefono=l})("input",function(){return o.validarTelefono()}),e.qZA()(),e.YNc(61,Q,2,0,"div",17),e.YNc(62,k,2,0,"div",17),e.TgZ(63,"ion-item"),e._UZ(64,"ion-icon",25),e.TgZ(65,"ion-input",26),e.NdJ("input",function(){return o.validarCorreo()})("ngModelChange",function(l){return o.correo=l}),e.qZA()(),e.YNc(66,Y,2,0,"div",17),e.YNc(67,O,2,0,"div",17),e._UZ(68,"br"),e.TgZ(69,"div",27)(70,"mat-radio-group",28),e.NdJ("ngModelChange",function(l){return o.id_rol=l}),e.TgZ(71,"mat-radio-button",29),e._uU(72,"Conductor"),e.qZA(),e.TgZ(73,"mat-radio-button",29),e._uU(74,"Pasajero"),e.qZA()()(),e.TgZ(75,"div",30)(76,"ion-card-content",31)(77,"ion-text",32),e._uU(78,'Al hacer clic en "Registrarse", aceptas nuestra '),e.TgZ(79,"a",33),e._uU(80,"Pol\xedtica de Privacidad"),e.qZA(),e._uU(81," y nuestros "),e.TgZ(82,"a",33),e._uU(83,"T\xe9rminos y Condiciones"),e.qZA(),e._uU(84,"."),e.qZA()()(),e.TgZ(85,"div",34)(86,"ion-button",35),e.NdJ("click",function(){return o.crearUsuario(o.nombre,o.correo,o.pass,o.telefono,o.id_rol,o.imagen)}),e._uU(87,"Registrarse"),e.qZA()()()()()()()),2&n&&(e.xp6(20),e.Q6J("ngForOf",o.photoService.photos),e.xp6(4),e.Q6J("formGroup",o.contactForm),e.xp6(2),e.Q6J("ngIf",o.formErrors.imagen_empty),e.xp6(3),e.Q6J("ngModel",o.nombre),e.xp6(1),e.Q6J("ngIf",o.formErrors.nombre_empty),e.xp6(1),e.Q6J("ngIf",o.formErrors.nombre_short),e.xp6(3),e.Q6J("ngModel",o.pass),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_empty),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_short),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_needUppercase),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_needLowercase),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_needNumber),e.xp6(1),e.Q6J("ngIf",o.formErrors.password_needSpecial),e.xp6(15),e.Q6J("ngModel",o.pass2)("pattern",o.pass),e.xp6(1),e.Q6J("ngIf",o.formErrors.pass2_empty),e.xp6(1),e.Q6J("ngIf",o.formErrors.pass2_noMatch),e.xp6(3),e.Q6J("ngModel",o.telefono),e.xp6(1),e.Q6J("ngIf",o.formErrors.telefono_empty),e.xp6(1),e.Q6J("ngIf",o.formErrors.telefono_short),e.xp6(3),e.Q6J("ngModel",o.correo),e.xp6(1),e.Q6J("ngIf",o.formErrors.correo_empty),e.xp6(1),e.Q6J("ngIf",o.formErrors.correo_invalid),e.xp6(3),e.Q6J("ngModel",o.id_rol),e.xp6(1),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(13),e.Q6J("disabled",o.registering))},dependencies:[p.sg,p.O5,t._Y,t.JJ,t.JL,t.Q7,t.c5,t.On,t.sg,t.u,i.oU,i.YG,i.Sm,i.FN,i.Dq,i.wI,i.W2,i.IJ,i.W4,i.Gu,i.gu,i.Xz,i.pK,i.Ie,i.yW,i.wd,i.sr,i.as,i.j9,i.cs,_.VQ,_.U0],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#1e1e1e;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}div[_ngcontent-%COMP%]{text-align:center}ion-button[_ngcontent-%COMP%]{border-radius:10px;background-color:#1e1e1e;color:#fff;width:80%;height:50px;align-items:center;justify-content:center}ion-card-content[_ngcontent-%COMP%]{border-radius:4px}ion-header[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#1e1e1e}ion-toolbar[_ngcontent-%COMP%]{color:#1e1e1e;background-color:#1e1e1e}.center-div[_ngcontent-%COMP%]{text-align:center}ion-item[_ngcontent-%COMP%]{border-radius:4px}ion-content.background[_ngcontent-%COMP%]{--background: url(/assets/fondo.jpg) 0 0/100% 100% no-repeat}ion-card-content[_ngcontent-%COMP%]{align-items:center;justify-content:center;margin:20;padding:20}ion-input[_ngcontent-%COMP%]{color:#000}ion-label[_ngcontent-%COMP%]{color:#000}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.input-icon[_ngcontent-%COMP%]{margin-right:.5rem}.input-error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),a})()}];let x=(()=>{var r;class a{}return(r=a).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.Bz.forChild(S),f.Bz]}),a})();var z=u(3680);let D=(()=>{var r;class a{}return(r=a).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.ez,t.u5,t.UX,i.Pc,x,_.Fk,T.ZX,z.si]}),a})()}}]);