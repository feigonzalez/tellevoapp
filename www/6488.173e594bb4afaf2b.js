"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6488],{6488:(v,d,i)=>{i.r(d),i.d(d,{LoginPageModule:()=>C});var p=i(6814),c=i(95),r=i(3614),l=i(9351),m=i(5861),e=i(9468),f=i(118);function h(n,s){if(1&n&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.Oqu(a.errorMessage)}}const M=function(){return["/registroc"]},P=[{path:"",component:(()=>{var n;class s{constructor(o,t){this.db=o,this.navCtrl=t,this.username="",this.password="",this.showErrorMessage=!1,this.errorMessage="",this.usuarios=[]}ngOnInit(){this.db.dbState().subscribe(o=>{o&&this.db.fetchRoles().subscribe(t=>{this.usuarios=t})})}login(){var o=this;return(0,m.Z)(function*(){if("bdreport"==o.username.trim()&&"bdreport"==o.password.trim())return void o.navCtrl.navigateForward("/bdreport");if(o.showErrorMessage=!1,""==o.username.trim())return o.errorMessage="Ingrese su correo",void(o.showErrorMessage=!0);if(""==o.password.trim())return o.errorMessage="Ingrese su contrase\xf1a",void(o.showErrorMessage=!0);let t=o.username.trim().toLowerCase(),g=yield o.db.leerUsuarioPorCorreo(t);if(null===g)return o.errorMessage="Usuario no existe",void(o.showErrorMessage=!0);o.password.trim()==g.password?(localStorage.setItem("loggedIn","true"),localStorage.setItem("uID",g.id_usuario),"1"==g.id_rol?(o.navCtrl.navigateForward("/inicio-conductor"),localStorage.setItem("uRole","conductor")):(o.navCtrl.navigateForward("/inicio-pasajero"),localStorage.setItem("uRole","pasajero"))):(o.errorMessage="Contrase\xf1a incorrecta",o.showErrorMessage=!0)})()}}return(n=s).\u0275fac=function(o){return new(o||n)(e.Y36(f.J),e.Y36(r.SH))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:30,vars:5,consts:[["color","#1e1e1e"],["slot","start"],[2,"color","white"],["padding","",1,"background"],["src","/assets/pepe.png"],[2,"top","2 rem"],[2,"text-align","center"],[2,"margin-left","auto","margin-right","auto","font-size","50px","font-weight","bold","color","white"],[2,"top","2rem"],["type","text","placeholder","Usuario",3,"ngModel","ngModelChange"],["border-radius","10"],["type","password","type","password","placeholder","Contrase\xf1a",3,"ngModel","ngModelChange"],["class","error-message",4,"ngIf"],[3,"click"],["color","grey",3,"routerLink"],[2,"bottom","-1rem"],[2,"margin-left","auto","margin-right","auto","font-size","10px","color","white"],[1,"error-message"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0),e._UZ(2,"ion-buttons",1),e.TgZ(3,"ion-title",2),e._uU(4,"Inicio de sesi\xf3n"),e.qZA()()(),e.TgZ(5,"ion-content",3),e._UZ(6,"ion-img",4),e.TgZ(7,"ion-card-content",5)(8,"div",6)(9,"ion-text",7),e._uU(10,"Te Llevo"),e.qZA()()(),e.TgZ(11,"ion-card-content",8)(12,"ion-item")(13,"ion-input",9),e.NdJ("ngModelChange",function(u){return t.username=u}),e.qZA()(),e._UZ(14,"br"),e.TgZ(15,"ion-item",10)(16,"ion-input",11),e.NdJ("ngModelChange",function(u){return t.password=u}),e.qZA()(),e._UZ(17,"br"),e.YNc(18,h,2,1,"div",12),e._UZ(19,"br"),e.TgZ(20,"div",6)(21,"ion-button",13),e.NdJ("click",function(){return t.login()}),e._uU(22,"Iniciar sesi\xf3n"),e.qZA()(),e.TgZ(23,"div",6)(24,"ion-button",14),e._uU(25,"Registrarse"),e.qZA()()(),e.TgZ(26,"ion-card-content",15)(27,"div",6)(28,"ion-text",16),e._uU(29,"Te LLevo. Marca(no) Registrada 2023-2023"),e.qZA()()()()),2&o&&(e.xp6(13),e.Q6J("ngModel",t.username),e.xp6(3),e.Q6J("ngModel",t.password),e.xp6(2),e.Q6J("ngIf",t.showErrorMessage),e.xp6(6),e.Q6J("routerLink",e.DdM(4,M)))},dependencies:[p.O5,c.JJ,c.On,r.YG,r.Sm,r.FN,r.W2,r.Gu,r.Xz,r.pK,r.Ie,r.yW,r.wd,r.sr,r.j9,r.YI,l.rH],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}div[_ngcontent-%COMP%]{text-align:center}ion-button[_ngcontent-%COMP%]{border-radius:10px;background-color:#1e1e1e;color:#fff;width:80%;height:50px}ion-content.background[_ngcontent-%COMP%]{--background: url(/assets/fondo.jpg) 0 0/100% 100% no-repeat}ion-item[_ngcontent-%COMP%]{border-radius:10px}ion-card-content[_ngcontent-%COMP%]{border-radius:4px}ion-header[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#1e1e1e}ion-toolbar[_ngcontent-%COMP%]{color:#1e1e1e;background-color:#1e1e1e}.error-message[_ngcontent-%COMP%]{background-color:#fff;color:red;text-align:center;margin-top:10px;border-radius:4px;font-size:20px;font-weight:700}"]}),s})()}];let b=(()=>{var n;class s{}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(P),l.Bz]}),s})(),C=(()=>{var n;class s{}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,c.u5,r.Pc,b]}),s})()}}]);